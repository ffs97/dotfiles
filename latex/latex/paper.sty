\usepackage{common}
\usepackage{fancyhdr}

\PassOptionsToPackage{a4paper,width=150mm,top=25mm,bottom=25mm,bindingoffset=6mm}{geometry}

\newcommand{\papertitle}{Some Petty Paper Title}
\newcommand{\setpapertitle}[1]{\renewcommand{\papertitle}{#1}}

\newcommand{\authors}{
	\parbox{3cm}{
		\centering
		\bt{\fontsize{10}{10}\selectfont Gurpreet Singh} \\
		150259
	}
}
\newcommand{\setauthor}[3][]{
	\renewcommand\authors{
		%\parbox{3cm}{
			%\centering
		\begin{tabular}{C{7cm}}
			\centering
			\bt{\fontsize{1.2em}{10}\selectfont #2} \newline #3
            \ifthenelse{\equal{#1}{}}{}{\newline {\fontsize{0.85em}{10}\selectfont #1}}
		\end{tabular}
		%}
	}
}
\newcommand{\addauthor}[3][]{
	\gappto\authors{
		\hspace{7mm}
		%\parbox{3cm}{
		\begin{tabular}{p{3cm}}
			\centering
			\bt{\fontsize{10}{10}\selectfont #2} \newline #3
			\ifthenelse{\equal{#1}{}}{}{\newline #1}
		\end{tabular}
		%}
	}
}

\newcommand{\makeheader}{
	\begin{center}
		\parbox{0.9\textwidth}{%
			\hrule height4pt
			\vspace{5mm}

			\begin{center}
				\parbox{0.7\textwidth}{
					\begin{center}
						\setstretch{1.5}
						{\fontsize{16pt}{20pt} \bt{\papertitle}}
					\end{center}
				}
			\end{center}

			\vspace{3mm}
			\hrule height2pt
		}

		\vspace{5mm}

		\parbox{0.75\textwidth}{
			\begin{center}
				\authors
			\end{center}
		}
	\end{center}
}

\renewenvironment{abstract}{%
    \begin{center}
        \begin{minipage}{0.7\textwidth}
            \begin{center}
                \textbf{Abstract}
            \end{center}
            
            \vspace{1mm}

            \small
}{
        \end{minipage}
    \end{center}
}

\fancyhead{}
\fancyhead[RO,LE]{\papertitle}
\fancyhead[LO,RE]{Chapter \thechapter}

\fancyfoot{}
\fancyfoot[LE,RO]{\thepage}
\fancyfoot[LO,CE]{\rightmark}

\renewcommand{\footrulewidth}{0.3pt}

\newenvironment{psection}[2][]{
	\ifthenelse{\equal{#1}{}}
	{\begin{heading}{True}{}{#2}}
	{\begin{heading}{True}{sec:#1}{#2}}
}{
	\end{heading}
}

\newenvironment{psubsection}[2][]{
	\ifthenelse{\equal{#1}{}}
	{\begin{subheading}{True}{}{#2}}
	{\begin{subheading}{True}{sec:#1}{#2}}
}{
	\end{subheading}
}

\newenvironment{pssubsection}[2][]{
	\ifthenelse{\equal{#1}{}}
	{\begin{subsubheading}{True}{}{#2}}
	{\begin{subsubheading}{True}{sec:#1}{#2}}
}{
	\end{subsubheading}
}
